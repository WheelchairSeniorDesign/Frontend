<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Wheelchair Interface App</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="grid-container">
        <div class="grid-item top-left">
            
        </div>

        <div class="grid-item top-right">
            <div class="brake-row-0">
                <p class="fit-text header">&nbsp;LiDAR Control&nbsp;</p>
            </div>
            <div class="brake-row-1">
                <button class="app-button" data-action="LIDAR_ON">
                    <span class="fit-text">&nbsp;LiDAR On&nbsp;</span>
                </button>
                <button class="app-button" data-action="LIDAR_OFF">
                    <span class="fit-text">&nbsp;LiDAR Off&nbsp;</span>
                </button>
            </div>
        </div>

        <div class="grid-item bottom-left">
            <div class="light-row-0">
                <p class="fit-text header">&nbsp;Light Control&nbsp;</p>
            </div>
            <div class="light-row-1">
                <button class="app-button" data-action="LIGHT_FLASHING">
                    <span class="fit-text">&nbsp;Flashing&nbsp;</span>
                </button>
                <button class="app-button" data-action="LIGHT_STEADY">
                    <span class="fit-text">&nbsp;Steady&nbsp;</span>
                </button>
                <button class="app-button" data-action="LIGHT_OFF">
                    <span class="fit-text">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </span>
                </button>
            </div>
            <!-- <div class="light-row-2 text">
                <p class="text"><span id="lightStatus">Light Status: ---</span></p>
            </div> -->
        </div>

        <div class="grid-item bottom-right">
            <div class="brake-row-0">
                <p class="fit-text header">&nbsp;Brake Control&nbsp;</p>
            </div>
            <div class="brake-row-1">
                <button class="app-button" data-action="BRAKE_ON">
                    <span class="fit-text">&nbsp;Brake On&nbsp;</span>
                </button>
                <button class="app-button" data-action="BRAKE_OFF">
                    <span class="fit-text">&nbsp;Brake Off&nbsp;</span>
                </button>
            </div>
        </div>
    </div>

    <script src="../node_modules/fitty/dist/fitty.min.js"></script>
    <script>
        // Text Sizing
        window.onload = () => {
            fitty('.fit-text');
        };

        // Non-stick Buttons
        document.querySelectorAll('.app-button').forEach(button => {
            let timeout;

            // Note: Mouse clicks are naturally a little longer than a touch press
            button.addEventListener('pointerdown', () => {
                button.classList.add('pressed');
                clearTimeout(timeout);
            });

            button.addEventListener('pointerup', () => {
                timeout = setTimeout(() => {
                    button.classList.remove('pressed');
                }, 175); //ms
            });
        });
    </script>
    <script src="./renderer.js"></script>

</body>
</html>